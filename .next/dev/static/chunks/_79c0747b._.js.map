{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/erpai/projects/MotorTrust-Frontend/lib/vehicles.ts"],"sourcesContent":["import { TokenManager } from './auth';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport interface Vehicle {\r\n  id: number;\r\n  user_id: number;\r\n  vin: string;\r\n  year: number;\r\n  make: string;\r\n  model: string;\r\n  trim?: string;\r\n  color?: string;\r\n  license_plate?: string;\r\n  mileage: number;\r\n  purchase_date?: string;\r\n  is_primary: boolean;\r\n  repair_count?: number;\r\n  last_service_date?: string;\r\n  total_repair_cost?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface VehicleStats {\r\n  id: number;\r\n  year: number;\r\n  make: string;\r\n  model: string;\r\n  current_mileage: number;\r\n  total_repairs: number;\r\n  total_cost: string;\r\n  avg_repair_cost: string;\r\n  last_service_date?: string;\r\n  first_service_date?: string;\r\n}\r\n\r\nexport interface RepairRecord {\r\n  id: number;\r\n  vehicle_id: number;\r\n  service_date: string;\r\n  service_type: string;\r\n  description: string;\r\n  total_cost: string;\r\n  shop_name?: string;\r\n  shop_rating?: number;\r\n}\r\n\r\nexport interface CreateVehicleRequest {\r\n  vin: string;\r\n  year: number;\r\n  make: string;\r\n  model: string;\r\n  trim?: string;\r\n  color?: string;\r\n  license_plate?: string;\r\n  mileage: number;\r\n  purchase_date?: string;\r\n  is_primary?: boolean;\r\n}\r\n\r\nexport interface UpdateVehicleRequest {\r\n  mileage?: number;\r\n  color?: string;\r\n  license_plate?: string;\r\n  trim?: string;\r\n}\r\n\r\nexport interface ApiResponse<T> {\r\n  success: boolean;\r\n  message: string;\r\n  data?: T;\r\n  count?: number;\r\n}\r\n\r\nexport class VehicleService {\r\n  private static getAuthHeader(): string {\r\n    const token = TokenManager.getToken();\r\n    if (!token) throw new Error('No authentication token found');\r\n    return `Bearer ${token}`;\r\n  }\r\n\r\n  // Get all vehicles\r\n  static async getVehicles(): Promise<ApiResponse<Vehicle[]>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch vehicles');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get primary vehicle\r\n  static async getPrimaryVehicle(): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/primary`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch primary vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get vehicle by ID\r\n  static async getVehicle(id: number): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Create vehicle\r\n  static async createVehicle(data: CreateVehicleRequest): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to create vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Update vehicle\r\n  static async updateVehicle(id: number, data: UpdateVehicleRequest): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to update vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Delete vehicle\r\n  static async deleteVehicle(id: number): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to delete vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Set primary vehicle\r\n  static async setPrimaryVehicle(id: number): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}/primary`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to set primary vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get vehicle repairs\r\n  static async getVehicleRepairs(id: number): Promise<ApiResponse<RepairRecord[]>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}/repairs`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch vehicle repairs');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get vehicle statistics\r\n  static async getVehicleStats(id: number): Promise<ApiResponse<VehicleStats>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}/stats`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch vehicle stats');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/erpai/projects/MotorTrust-Frontend/lib/shops.ts"],"sourcesContent":["import { TokenManager } from './auth';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:5000';\r\n\r\n// Helper to get full image URL\r\nexport function getImageUrl(path: string): string {\r\n  if (!path) return '';\r\n  // If already a full URL, return as is\r\n  if (path.startsWith('http://') || path.startsWith('https://')) {\r\n    return path;\r\n  }\r\n  // Remove leading slash if present for consistent joining\r\n  const cleanPath = path.startsWith('/') ? path.slice(1) : path;\r\n  return `${API_BASE_URL}/${cleanPath}`;\r\n}\r\n\r\n// Repair Lead types\r\nexport interface RepairLeadUser {\r\n  first_name: string;\r\n  last_name: string;\r\n  phone?: string;\r\n  email?: string;\r\n}\r\n\r\nexport type UrgencyLevel = 'low' | 'normal' | 'high' | 'urgent';\r\n\r\nexport interface RepairLead {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  car_make: string;\r\n  car_model: string;\r\n  car_year: number;\r\n  urgency: UrgencyLevel;\r\n  status: 'open' | 'in_progress' | 'completed' | 'cancelled';\r\n  proposal_count: number;\r\n  images?: string[];\r\n  user?: RepairLeadUser;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nexport interface CreateRepairLeadRequest {\r\n  title: string;\r\n  description: string;\r\n  car_make: string;\r\n  car_model: string;\r\n  car_year: number;\r\n  urgency: UrgencyLevel;\r\n  images?: File[];\r\n}\r\n\r\n// Proposal types\r\nexport interface ShopInfo {\r\n  id: number;\r\n  shop_name: string;\r\n  phone?: string;\r\n  email?: string;\r\n  rating?: number;\r\n  address?: string;\r\n}\r\n\r\nexport interface Proposal {\r\n  id: number;\r\n  repair_lead_id: number;\r\n  shop_id?: number;\r\n  shop?: ShopInfo;\r\n  message: string;\r\n  estimated_cost: number;\r\n  estimated_duration?: string;\r\n  warranty_period?: string;\r\n  status: 'pending' | 'accepted' | 'rejected';\r\n  notes?: string;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nexport interface CreateProposalRequest {\r\n  repair_lead_id: number;\r\n  message: string;\r\n  estimated_cost: number;\r\n  estimated_duration?: string;\r\n  warranty_period?: string;\r\n}\r\n\r\nexport interface RepairStats {\r\n  total_leads?: number;\r\n  open_leads?: number;\r\n  total_proposals?: number;\r\n  accepted_proposals?: number;\r\n  total_spent?: number;\r\n  avg_proposal_cost?: number;\r\n}\r\n\r\nexport interface ApiResponse<T> {\r\n  success: boolean;\r\n  message?: string;\r\n  data?: T;\r\n  count?: number;\r\n}\r\n\r\n// Shop types\r\nexport interface Shop {\r\n  id: number;\r\n  shop_name: string;\r\n  shop_address: string;\r\n  phone_number?: string;\r\n  latitude?: number;\r\n  longitude?: number;\r\n  specialities?: string[];\r\n  shop_description?: string;\r\n  verification_status?: 'pending' | 'approved' | 'rejected';\r\n  is_active?: boolean;\r\n  is_verified?: boolean;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nexport interface CreateShopRequest {\r\n  shop_name: string;\r\n  shop_address: string;\r\n  phone_number?: string;\r\n  latitude?: number;\r\n  longitude?: number;\r\n  specialities?: string[];\r\n  shop_description?: string;\r\n}\r\n\r\nexport class ShopService {\r\n  private static getAuthHeader(): string {\r\n    const token = TokenManager.getToken();\r\n    if (!token) throw new Error('No authentication token found');\r\n    return `Bearer ${token}`;\r\n  }\r\n\r\n  // ==================== SHOP MANAGEMENT ====================\r\n\r\n  // Create a new shop (Shop Owner)\r\n  static async createShop(data: CreateShopRequest): Promise<ApiResponse<{ shop: Shop }>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/shops`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to create shop');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get my shop (Shop Owner)\r\n  static async getMyShop(): Promise<ApiResponse<{ shop: Shop | null }>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/shops/my-shop`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      // 404 means no shop exists yet\r\n      if (response.status === 404) {\r\n        return { success: true, data: { shop: null } };\r\n      }\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to fetch shop');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get all shops\r\n  static async getAllShops(): Promise<ApiResponse<{ shops: Shop[] }>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/shops`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to fetch shops');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // ==================== REPAIR LEADS ====================\r\n\r\n  // Get all available repair leads (for shop owners to browse)\r\n  static async getLeads(limit = 50): Promise<ApiResponse<{ leads: RepairLead[] }>> {\r\n    const response = await fetch(\r\n      `${API_BASE_URL}/api/repairs/leads?limit=${limit}`,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': this.getAuthHeader(),\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to fetch leads');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get single repair lead with proposals\r\n  static async getLead(id: number): Promise<ApiResponse<{ lead: RepairLead; proposals: Proposal[] }>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/leads/${id}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to fetch lead');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Create repair lead (Car Owner) - supports image uploads\r\n  static async createLead(data: CreateRepairLeadRequest): Promise<ApiResponse<{ lead: RepairLead }>> {\r\n    const hasImages = data.images && data.images.length > 0;\r\n\r\n    let response: Response;\r\n\r\n    if (hasImages) {\r\n      // Use FormData for multipart upload\r\n      const formData = new FormData();\r\n      formData.append('title', data.title);\r\n      formData.append('description', data.description);\r\n      formData.append('car_make', data.car_make);\r\n      formData.append('car_model', data.car_model);\r\n      formData.append('car_year', data.car_year.toString());\r\n      formData.append('urgency', data.urgency);\r\n      \r\n      // Append each image - using 'images' as field name (matching curl -F \"images=@file\")\r\n      data.images!.forEach((image, index) => {\r\n        console.log(`Appending image ${index}:`, image.name, image.type, image.size);\r\n        formData.append('images', image, image.name);\r\n      });\r\n\r\n      // Debug: Log FormData contents\r\n      console.log('FormData entries:');\r\n      for (const [key, value] of formData.entries()) {\r\n        if (value instanceof File) {\r\n          console.log(`  ${key}: File(${value.name}, ${value.type}, ${value.size} bytes)`);\r\n        } else {\r\n          console.log(`  ${key}: ${value}`);\r\n        }\r\n      }\r\n\r\n      response = await fetch(`${API_BASE_URL}/api/repairs/leads`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': this.getAuthHeader(),\r\n          // Don't set Content-Type - browser will set it with boundary for multipart\r\n        },\r\n        body: formData,\r\n      });\r\n    } else {\r\n      // Use JSON for requests without images\r\n      const { images, ...jsonData } = data;\r\n      response = await fetch(`${API_BASE_URL}/api/repairs/leads`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': this.getAuthHeader(),\r\n        },\r\n        body: JSON.stringify(jsonData),\r\n      });\r\n    }\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to create lead');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get my repair leads (Car Owner)\r\n  static async getMyLeads(): Promise<ApiResponse<{ leads: RepairLead[] }>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/leads/my/all`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to fetch my leads');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // ==================== PROPOSALS ====================\r\n\r\n  // Submit proposal (Shop Owner)\r\n  static async submitProposal(data: CreateProposalRequest): Promise<ApiResponse<{ proposal: Proposal }>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/proposals`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to submit proposal');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get my proposals (Shop Owner)\r\n  static async getMyProposals(): Promise<ApiResponse<{ proposals: Proposal[] }>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/proposals/my/all`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to fetch proposals');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Accept proposal (Car Owner)\r\n  static async acceptProposal(id: number, notes?: string): Promise<ApiResponse<{ proposal: Proposal }>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/proposals/${id}/accept`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify({ notes }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to accept proposal');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Reject proposal (Car Owner)\r\n  static async rejectProposal(id: number): Promise<ApiResponse<{ proposal: Proposal }>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/proposals/${id}/reject`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to reject proposal');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get repair stats\r\n  static async getStats(): Promise<ApiResponse<RepairStats>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/stats`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error?.message || error.message || 'Failed to fetch stats');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/erpai/projects/MotorTrust-Frontend/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { AuthService, User } from '@/lib/auth';\r\nimport { VehicleService, Vehicle } from '@/lib/vehicles';\r\nimport { ShopService, RepairLead, Shop } from '@/lib/shops';\r\nimport Link from 'next/link';\r\n\r\nexport default function DashboardOverview() {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\r\n  const [primaryVehicle, setPrimaryVehicle] = useState<Vehicle | null>(null);\r\n  const [leads, setLeads] = useState<RepairLead[]>([]);\r\n  const [shop, setShop] = useState<Shop | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const userRes = await AuthService.getCurrentUser();\r\n        if (userRes.data) {\r\n          setUser(userRes.data);\r\n\r\n          // Load role-specific data\r\n          if (userRes.data.role === 'car_owner') {\r\n            const vehiclesRes = await VehicleService.getVehicles().catch(() => ({ data: [] }));\r\n            if (vehiclesRes.data) {\r\n              // Handle both array and object response formats\r\n              const vehiclesList = Array.isArray(vehiclesRes.data) \r\n                ? vehiclesRes.data \r\n                : (vehiclesRes.data as { vehicles?: Vehicle[] }).vehicles || [];\r\n              setVehicles(vehiclesList);\r\n              const primary = vehiclesList.find((v: Vehicle) => v.is_primary);\r\n              if (primary) setPrimaryVehicle(primary);\r\n            }\r\n          } else if (userRes.data.role === 'shop_owner') {\r\n            // Check if shop is set up\r\n            const shopRes = await ShopService.getMyShop().catch(() => ({ data: { shop: null } }));\r\n            if (shopRes.data?.shop) {\r\n              setShop(shopRes.data.shop);\r\n              // Load leads only if shop exists\r\n              const leadsRes = await ShopService.getLeads().catch(() => ({ data: { leads: [] } }));\r\n              if (leadsRes.data?.leads) {\r\n                setLeads(leadsRes.data.leads);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to load data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"text-center\">\r\n          <div className=\"text-4xl mb-4 animate-float\">üöó</div>\r\n          <p className=\"text-gray-400\">Loading dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Repair Shop Dashboard\r\n  if (user?.role === 'shop_owner') {\r\n    // If no shop, show setup prompt\r\n    if (!shop) {\r\n      return <ShopSetupPrompt user={user} />;\r\n    }\r\n    return <RepairShopDashboard user={user} leads={leads} shop={shop} />;\r\n  }\r\n\r\n  // Consumer Dashboard (default)\r\n  return <ConsumerDashboard user={user} vehicles={vehicles} primaryVehicle={primaryVehicle} />;\r\n}\r\n\r\n// Consumer Dashboard Component\r\nfunction ConsumerDashboard({ \r\n  user, \r\n  vehicles: vehiclesProp, \r\n  primaryVehicle \r\n}: { \r\n  user: User | null; \r\n  vehicles: Vehicle[]; \r\n  primaryVehicle: Vehicle | null;\r\n}) {\r\n  // Ensure vehicles is always an array\r\n  const vehicles = Array.isArray(vehiclesProp) ? vehiclesProp : [];\r\n  \r\n  const stats = [\r\n    { \r\n      label: 'Total Vehicles', \r\n      value: vehicles.length, \r\n      icon: 'üöó', \r\n      color: 'from-blue-500/20 to-blue-600/20',\r\n      border: 'border-blue-500/30'\r\n    },\r\n    { \r\n      label: 'Total Repairs', \r\n      value: vehicles.reduce((acc, v) => acc + (v.repair_count || 0), 0), \r\n      icon: 'üîß', \r\n      color: 'from-green-500/20 to-green-600/20',\r\n      border: 'border-green-500/30'\r\n    },\r\n    { \r\n      label: 'Active Services', \r\n      value: 0, \r\n      icon: '‚ö°', \r\n      color: 'from-yellow-500/20 to-yellow-600/20',\r\n      border: 'border-yellow-500/30'\r\n    },\r\n    { \r\n      label: 'Trust Score', \r\n      value: '95%', \r\n      icon: '‚≠ê', \r\n      color: 'from-[#2ec8c6]/20 to-[#1a9a99]/20',\r\n      border: 'border-[#2ec8c6]/30'\r\n    },\r\n  ];\r\n\r\n  const quickActions = [\r\n    { icon: 'üõ†Ô∏è', title: 'Request Repair', desc: 'Get quotes from shops', href: '/dashboard/requests', color: 'hover:border-green-500/50' },\r\n    { icon: 'üöó', title: 'Add Vehicle', desc: 'Register a new vehicle', href: '/dashboard/vehicles?add=true', color: 'hover:border-blue-500/50' },\r\n    { icon: 'üîç', title: 'AI Diagnosis', desc: 'Get instant diagnosis', href: '/dashboard/diagnosis', color: 'hover:border-purple-500/50' },\r\n    { icon: 'üìä', title: 'View Reports', desc: 'Analytics & insights', href: '/dashboard/reports', color: 'hover:border-yellow-500/50' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-8 max-w-7xl mx-auto\">\r\n      {/* Welcome Banner */}\r\n      <div className=\"glass-strong rounded-2xl p-8 relative overflow-hidden\">\r\n        <div className=\"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-[#2ec8c6]/20 to-transparent rounded-full blur-3xl\"></div>\r\n        <div className=\"relative\">\r\n          <p className=\"text-[#2ec8c6] font-medium mb-2\">Welcome back,</p>\r\n          <h1 className=\"text-4xl md:text-5xl font-bold gradient-text mb-4\">\r\n            {user?.name}!\r\n          </h1>\r\n          <p className=\"text-gray-400 text-lg max-w-xl\">\r\n            {vehicles.length === 0 \r\n              ? \"Start by adding your first vehicle to unlock the full power of MotorTrust.\"\r\n              : `You have ${vehicles.length} vehicle${vehicles.length > 1 ? 's' : ''} registered. Keep track of maintenance and get AI-powered insights.`\r\n            }\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        {stats.map((stat, idx) => (\r\n          <div \r\n            key={idx} \r\n            className={`glass rounded-2xl p-6 border ${stat.border} bg-gradient-to-br ${stat.color}`}\r\n          >\r\n            <div className=\"text-3xl mb-3\">{stat.icon}</div>\r\n            <div className=\"text-3xl font-bold mb-1\">{stat.value}</div>\r\n            <div className=\"text-gray-400 text-sm\">{stat.label}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Primary Vehicle & Quick Actions */}\r\n      <div className=\"grid lg:grid-cols-2 gap-6\">\r\n        {/* Primary Vehicle */}\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h2 className=\"text-xl font-bold\">Primary Vehicle</h2>\r\n            <Link \r\n              href=\"/dashboard/vehicles\"\r\n              className=\"text-[#2ec8c6] text-sm hover:underline\"\r\n            >\r\n              View all ‚Üí\r\n            </Link>\r\n          </div>\r\n\r\n          {primaryVehicle ? (\r\n            <Link \r\n              href={`/dashboard/vehicles/${primaryVehicle.id}`}\r\n              className=\"block glass rounded-xl p-6 hover:bg-white/5 transition-all group\"\r\n            >\r\n              <div className=\"flex items-start justify-between\">\r\n                <div>\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <span className=\"text-3xl\">üöó</span>\r\n                    <span className=\"px-2 py-0.5 bg-[#2ec8c6]/20 text-[#2ec8c6] text-xs rounded-full\">\r\n                      Primary\r\n                    </span>\r\n                  </div>\r\n                  <h3 className=\"text-2xl font-bold mb-1\">\r\n                    {primaryVehicle.year} {primaryVehicle.make} {primaryVehicle.model}\r\n                  </h3>\r\n                  <p className=\"text-gray-400\">{primaryVehicle.vin}</p>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <div className=\"text-sm text-gray-400 mb-1\">Mileage</div>\r\n                  <div className=\"text-xl font-bold\">{primaryVehicle.mileage?.toLocaleString()} mi</div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"mt-6 pt-4 border-t border-white/10 flex items-center justify-between\">\r\n                <div className=\"flex gap-6\">\r\n                  <div>\r\n                    <div className=\"text-sm text-gray-400\">Repairs</div>\r\n                    <div className=\"font-semibold\">{primaryVehicle.repair_count || 0}</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-sm text-gray-400\">Last Service</div>\r\n                    <div className=\"font-semibold\">\r\n                      {primaryVehicle.last_service_date \r\n                        ? new Date(primaryVehicle.last_service_date).toLocaleDateString() \r\n                        : 'No records'}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <span className=\"text-gray-400 group-hover:text-[#2ec8c6] transition-colors\">\r\n                  View Details ‚Üí\r\n                </span>\r\n              </div>\r\n            </Link>\r\n          ) : (\r\n            <div className=\"glass rounded-xl p-8 text-center\">\r\n              <div className=\"text-5xl mb-4\">üöó</div>\r\n              <h3 className=\"text-xl font-bold mb-2\">No vehicles yet</h3>\r\n              <p className=\"text-gray-400 mb-6\">Add your first vehicle to get started</p>\r\n              <Link\r\n                href=\"/dashboard/vehicles?add=true\"\r\n                className=\"inline-flex items-center gap-2 bg-[#2ec8c6] hover:bg-[#26a5a3] text-black font-bold px-6 py-3 rounded-full transition-all\"\r\n              >\r\n                <span>‚ûï</span>\r\n                Add Vehicle\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">Quick Actions</h2>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            {quickActions.map((action, idx) => (\r\n              <Link\r\n                key={idx}\r\n                href={action.href}\r\n                className={`glass rounded-xl p-5 transition-all duration-300 hover:scale-[1.02] border border-transparent ${action.color}`}\r\n              >\r\n                <div className=\"text-3xl mb-3\">{action.icon}</div>\r\n                <div className=\"font-bold mb-1\">{action.title}</div>\r\n                <div className=\"text-gray-400 text-sm\">{action.desc}</div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tips */}\r\n      <div className=\"glass-strong rounded-2xl p-6\">\r\n        <h2 className=\"text-xl font-bold mb-6\">Tips & Insights</h2>\r\n        <div className=\"grid md:grid-cols-3 gap-4\">\r\n          <div className=\"glass rounded-xl p-4 border-l-4 border-[#2ec8c6]\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <span>üí°</span>\r\n              <span className=\"font-semibold text-sm\">Pro Tip</span>\r\n            </div>\r\n            <p className=\"text-sm text-gray-400\">\r\n              Regular oil changes every 5,000-7,500 miles can extend your engine life by years.\r\n            </p>\r\n          </div>\r\n          <div className=\"glass rounded-xl p-4 border-l-4 border-yellow-500\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <span>‚ö†Ô∏è</span>\r\n              <span className=\"font-semibold text-sm\">Reminder</span>\r\n            </div>\r\n            <p className=\"text-sm text-gray-400\">\r\n              Check your tire pressure monthly for better fuel efficiency and safety.\r\n            </p>\r\n          </div>\r\n          <div className=\"glass rounded-xl p-4 border-l-4 border-green-500\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <span>‚úÖ</span>\r\n              <span className=\"font-semibold text-sm\">Did You Know?</span>\r\n            </div>\r\n            <p className=\"text-sm text-gray-400\">\r\n              MotorTrust AI can predict potential issues before they become costly repairs.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Shop Setup Prompt Component\r\nfunction ShopSetupPrompt({ user }: { user: User | null }) {\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto\">\r\n      <div className=\"glass-strong rounded-2xl p-12 text-center\">\r\n        <div className=\"text-7xl mb-6\">üè™</div>\r\n        <h1 className=\"text-3xl font-bold gradient-text mb-4\">\r\n          Welcome, {user?.name}!\r\n        </h1>\r\n        <p className=\"text-gray-400 text-lg mb-8 max-w-md mx-auto\">\r\n          To start receiving repair requests and growing your business, you need to set up your shop profile first.\r\n        </p>\r\n        <Link\r\n          href=\"/dashboard/shop/setup\"\r\n          className=\"inline-flex items-center gap-2 bg-[#2ec8c6] hover:bg-[#26a5a3] text-black font-bold px-8 py-4 rounded-full transition-all transform hover:scale-105 text-lg\"\r\n        >\r\n          <span>üöÄ</span>\r\n          Set Up My Shop\r\n        </Link>\r\n\r\n        <div className=\"mt-12 pt-8 border-t border-gray-700\">\r\n          <h3 className=\"font-semibold mb-4\">What you&apos;ll get:</h3>\r\n          <div className=\"grid md:grid-cols-3 gap-4 text-left\">\r\n            <div className=\"glass rounded-xl p-4\">\r\n              <div className=\"text-2xl mb-2\">üìã</div>\r\n              <h4 className=\"font-semibold mb-1\">Repair Leads</h4>\r\n              <p className=\"text-sm text-gray-400\">Browse repair requests from car owners in your area</p>\r\n            </div>\r\n            <div className=\"glass rounded-xl p-4\">\r\n              <div className=\"text-2xl mb-2\">üíº</div>\r\n              <h4 className=\"font-semibold mb-1\">Submit Proposals</h4>\r\n              <p className=\"text-sm text-gray-400\">Send quotes directly to customers</p>\r\n            </div>\r\n            <div className=\"glass rounded-xl p-4\">\r\n              <div className=\"text-2xl mb-2\">üí∞</div>\r\n              <h4 className=\"font-semibold mb-1\">Grow Revenue</h4>\r\n              <p className=\"text-sm text-gray-400\">Win more jobs and build your reputation</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Repair Shop Dashboard Component\r\nfunction RepairShopDashboard({ \r\n  user, \r\n  leads,\r\n  shop \r\n}: { \r\n  user: User | null; \r\n  leads: RepairLead[];\r\n  shop: Shop;\r\n}) {\r\n  const urgentLeads = leads.filter(l => l.urgency === 'urgent' || l.urgency === 'high');\r\n\r\n  const stats = [\r\n    { \r\n      label: 'Available Leads', \r\n      value: leads.length, \r\n      icon: 'üìã', \r\n      color: 'from-blue-500/20 to-blue-600/20',\r\n      border: 'border-blue-500/30'\r\n    },\r\n    { \r\n      label: 'Urgent Leads', \r\n      value: urgentLeads.length, \r\n      icon: 'üî•', \r\n      color: 'from-red-500/20 to-red-600/20',\r\n      border: 'border-red-500/30'\r\n    },\r\n    { \r\n      label: 'Est. Revenue', \r\n      value: `$${(leads.length * 250).toLocaleString()}`, \r\n      icon: 'üí∞', \r\n      color: 'from-green-500/20 to-green-600/20',\r\n      border: 'border-green-500/30'\r\n    },\r\n    { \r\n      label: 'Rating', \r\n      value: '4.8 ‚≠ê', \r\n      icon: '‚≠ê', \r\n      color: 'from-[#2ec8c6]/20 to-[#1a9a99]/20',\r\n      border: 'border-[#2ec8c6]/30'\r\n    },\r\n  ];\r\n\r\n  const quickActions = [\r\n    { icon: 'üìã', title: 'Browse Leads', desc: 'Find new repair jobs', href: '/dashboard/leads', color: 'hover:border-blue-500/50' },\r\n    { icon: 'üíº', title: 'My Proposals', desc: 'Track submitted proposals', href: '/dashboard/proposals', color: 'hover:border-green-500/50' },\r\n    { icon: 'üîß', title: 'Active Jobs', desc: 'Manage ongoing repairs', href: '/dashboard/jobs', color: 'hover:border-purple-500/50' },\r\n    { icon: 'üìä', title: 'Reports', desc: 'Analytics & insights', href: '/dashboard/reports', color: 'hover:border-yellow-500/50' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-8 max-w-7xl mx-auto\">\r\n      {/* Welcome Banner */}\r\n      <div className=\"glass-strong rounded-2xl p-8 relative overflow-hidden\">\r\n        <div className=\"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-[#2ec8c6]/20 to-transparent rounded-full blur-3xl\"></div>\r\n        <div className=\"relative\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <span className=\"text-2xl\">üè™</span>\r\n            <span className=\"text-[#2ec8c6] font-semibold\">{shop.shop_name}</span>\r\n            {shop.verification_status === 'approved' && (\r\n              <span className=\"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded-full\">‚úì Verified</span>\r\n            )}\r\n          </div>\r\n          <h1 className=\"text-4xl md:text-5xl font-bold gradient-text mb-4\">\r\n            Welcome back, {user?.first_name || user?.name}!\r\n          </h1>\r\n          <p className=\"text-gray-400 text-lg max-w-xl\">\r\n            {leads.length === 0 \r\n              ? \"No leads available right now. Check back soon for new repair opportunities!\"\r\n              : `You have ${leads.length} available lead${leads.length > 1 ? 's' : ''} waiting. Submit proposals to win more jobs!`\r\n            }\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Urgent Alert */}\r\n      {urgentLeads.length > 0 && (\r\n        <div className=\"glass-strong rounded-2xl p-6 border border-red-500/30 bg-red-500/5\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <span className=\"text-4xl\">üî•</span>\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-red-400\">Urgent Leads Available!</h3>\r\n                <p className=\"text-gray-400\">\r\n                  {urgentLeads.length} customer{urgentLeads.length > 1 ? 's need' : ' needs'} immediate assistance\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <Link\r\n              href=\"/dashboard/leads\"\r\n              className=\"px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors\"\r\n            >\r\n              View Urgent Leads\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        {stats.map((stat, idx) => (\r\n          <div \r\n            key={idx} \r\n            className={`glass rounded-2xl p-6 border ${stat.border} bg-gradient-to-br ${stat.color}`}\r\n          >\r\n            <div className=\"text-3xl mb-3\">{stat.icon}</div>\r\n            <div className=\"text-3xl font-bold mb-1\">{stat.value}</div>\r\n            <div className=\"text-gray-400 text-sm\">{stat.label}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Quick Actions & Recent Leads */}\r\n      <div className=\"grid lg:grid-cols-2 gap-6\">\r\n        {/* Quick Actions */}\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">Quick Actions</h2>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            {quickActions.map((action, idx) => (\r\n              <Link\r\n                key={idx}\r\n                href={action.href}\r\n                className={`glass rounded-xl p-5 transition-all duration-300 hover:scale-[1.02] border border-transparent ${action.color}`}\r\n              >\r\n                <div className=\"text-3xl mb-3\">{action.icon}</div>\r\n                <div className=\"font-bold mb-1\">{action.title}</div>\r\n                <div className=\"text-gray-400 text-sm\">{action.desc}</div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Leads */}\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h2 className=\"text-xl font-bold\">Recent Leads</h2>\r\n            <Link \r\n              href=\"/dashboard/leads\"\r\n              className=\"text-[#2ec8c6] text-sm hover:underline\"\r\n            >\r\n              View all ‚Üí\r\n            </Link>\r\n          </div>\r\n\r\n          {leads.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {leads.slice(0, 3).map((lead) => (\r\n                <Link key={lead.id} href=\"/dashboard/leads\" className=\"glass rounded-xl p-4 flex items-center gap-4 hover:bg-white/5 transition-all\">\r\n                  <div className=\"w-12 h-12 bg-gradient-to-br from-[#2ec8c6]/20 to-[#1a9a99]/20 rounded-xl flex items-center justify-center text-2xl\">\r\n                    üöó\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"font-semibold line-clamp-1\">\r\n                      {lead.title}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-400\">\r\n                      {lead.car_year} {lead.car_make} {lead.car_model}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-sm text-gray-400\">{lead.proposal_count || 0} proposals</div>\r\n                    {lead.urgency === 'high' && (\r\n                      <span className=\"text-xs text-red-400\">üî• Urgent</span>\r\n                    )}\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 glass rounded-xl\">\r\n              <div className=\"text-4xl mb-3\">üìã</div>\r\n              <p className=\"text-gray-400\">No leads available right now</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tips for Shops */}\r\n      <div className=\"glass-strong rounded-2xl p-6\">\r\n        <h2 className=\"text-xl font-bold mb-6\">Tips to Get More Customers</h2>\r\n        <div className=\"grid md:grid-cols-3 gap-4\">\r\n          <div className=\"glass rounded-xl p-4 border-l-4 border-[#2ec8c6]\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <span>‚ö°</span>\r\n              <span className=\"font-semibold text-sm\">Respond Quickly</span>\r\n            </div>\r\n            <p className=\"text-sm text-gray-400\">\r\n              Shops that respond within 1 hour get 3x more jobs on average.\r\n            </p>\r\n          </div>\r\n          <div className=\"glass rounded-xl p-4 border-l-4 border-yellow-500\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <span>üì∏</span>\r\n              <span className=\"font-semibold text-sm\">Add Photos</span>\r\n            </div>\r\n            <p className=\"text-sm text-gray-400\">\r\n              Include before/after photos to build trust with customers.\r\n            </p>\r\n          </div>\r\n          <div className=\"glass rounded-xl p-4 border-l-4 border-green-500\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <span>üí¨</span>\r\n              <span className=\"font-semibold text-sm\">Get Reviews</span>\r\n            </div>\r\n            <p className=\"text-sm text-gray-400\">\r\n              Ask satisfied customers for reviews to improve your rating.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}
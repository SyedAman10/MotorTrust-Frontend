{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/erpai/projects/MotorTrust-Frontend/lib/repairs.ts"],"sourcesContent":["import { TokenManager } from './auth';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport interface Repair {\r\n  id: number;\r\n  vehicle_id: number;\r\n  user_id?: number;\r\n  year?: number;\r\n  make?: string;\r\n  model?: string;\r\n  vin?: string;\r\n  service_date: string;\r\n  service_type: string;\r\n  description?: string;\r\n  total_cost: string;\r\n  mileage_at_service?: number;\r\n  shop_id?: number;\r\n  shop_name?: string;\r\n  shop_address?: string;\r\n  shop_phone?: string;\r\n  shop_rating?: number;\r\n  invoice_url?: string;\r\n  photos?: string[];\r\n  odb_codes?: string[];\r\n  parts_replaced?: string[];\r\n  labor_hours?: number;\r\n  warranty_info?: string;\r\n  insurance_claim_id?: string;\r\n  created_at: string;\r\n  updated_at?: string;\r\n}\r\n\r\nexport interface RepairStats {\r\n  total_repairs: number;\r\n  total_spent: string;\r\n  avg_repair_cost: string;\r\n  last_service_date?: string;\r\n  vehicles_serviced: number;\r\n  shops_used: number;\r\n}\r\n\r\nexport interface ServiceReminder {\r\n  vehicle_id: number;\r\n  year: number;\r\n  make: string;\r\n  model: string;\r\n  current_mileage: number;\r\n  last_service_date?: string;\r\n  last_service_mileage?: number;\r\n}\r\n\r\nexport interface CreateRepairRequest {\r\n  vehicle_id: number;\r\n  service_date: string;\r\n  service_type: string;\r\n  description?: string;\r\n  total_cost: number;\r\n  mileage_at_service?: number;\r\n  shop_id?: number;\r\n  invoice_url?: string;\r\n  photos?: string[];\r\n  odb_codes?: string[];\r\n  parts_replaced?: string[];\r\n  labor_hours?: number;\r\n  warranty_info?: string;\r\n  insurance_claim_id?: string;\r\n}\r\n\r\nexport interface UpdateRepairRequest {\r\n  service_type?: string;\r\n  description?: string;\r\n  total_cost?: number;\r\n  mileage_at_service?: number;\r\n  invoice_url?: string;\r\n  photos?: string[];\r\n  odb_codes?: string[];\r\n  parts_replaced?: string[];\r\n  labor_hours?: number;\r\n  warranty_info?: string;\r\n}\r\n\r\nexport interface ApiResponse<T> {\r\n  success: boolean;\r\n  message: string;\r\n  data?: T;\r\n  count?: number;\r\n  limit?: number;\r\n  offset?: number;\r\n}\r\n\r\nexport class RepairService {\r\n  private static getAuthHeader(): string {\r\n    const token = TokenManager.getToken();\r\n    if (!token) throw new Error('No authentication token found');\r\n    return `Bearer ${token}`;\r\n  }\r\n\r\n  // Get all repairs\r\n  static async getRepairs(limit = 50, offset = 0): Promise<ApiResponse<Repair[]>> {\r\n    const response = await fetch(\r\n      `${API_BASE_URL}/api/repairs?limit=${limit}&offset=${offset}`,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': this.getAuthHeader(),\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch repairs');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get repair by ID\r\n  static async getRepair(id: number): Promise<ApiResponse<Repair>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/${id}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch repair');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Create repair\r\n  static async createRepair(data: CreateRepairRequest): Promise<ApiResponse<Repair>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to create repair');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Update repair\r\n  static async updateRepair(id: number, data: UpdateRepairRequest): Promise<ApiResponse<Repair>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to update repair');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Delete repair\r\n  static async deleteRepair(id: number): Promise<ApiResponse<Repair>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to delete repair');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get repair stats\r\n  static async getStats(): Promise<ApiResponse<RepairStats>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/stats`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch repair stats');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get repairs in date range\r\n  static async getRepairsByDateRange(\r\n    startDate: string,\r\n    endDate: string\r\n  ): Promise<ApiResponse<Repair[]>> {\r\n    const response = await fetch(\r\n      `${API_BASE_URL}/api/repairs/range?start_date=${startDate}&end_date=${endDate}`,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': this.getAuthHeader(),\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch repairs');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Search repairs\r\n  static async searchRepairs(query: string): Promise<ApiResponse<Repair[]>> {\r\n    const response = await fetch(\r\n      `${API_BASE_URL}/api/repairs/search?q=${encodeURIComponent(query)}`,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': this.getAuthHeader(),\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to search repairs');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get service reminders\r\n  static async getReminders(): Promise<ApiResponse<ServiceReminder[]>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/repairs/reminders`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch reminders');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAEqB;AAFrB;;AAEA,MAAM,eAAe,6DAAwC;AAyFtD,MAAM;IACX,OAAe,gBAAwB;QACrC,MAAM,QAAQ,8HAAY,CAAC,QAAQ;QACnC,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;QAC5B,OAAO,CAAC,OAAO,EAAE,OAAO;IAC1B;IAEA,kBAAkB;IAClB,aAAa,WAAW,QAAQ,EAAE,EAAE,SAAS,CAAC,EAAkC;QAC9E,MAAM,WAAW,MAAM,MACrB,GAAG,aAAa,mBAAmB,EAAE,MAAM,QAAQ,EAAE,QAAQ,EAC7D;YACE,QAAQ;YACR,SAAS;gBACP,iBAAiB,IAAI,CAAC,aAAa;YACrC;QACF;QAGF,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,mBAAmB;IACnB,aAAa,UAAU,EAAU,EAAgC;QAC/D,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,aAAa,EAAE,IAAI,EAAE;YAChE,QAAQ;YACR,SAAS;gBACP,iBAAiB,IAAI,CAAC,aAAa;YACrC;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,gBAAgB;IAChB,aAAa,aAAa,IAAyB,EAAgC;QACjF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,YAAY,CAAC,EAAE;YAC1D,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,iBAAiB,IAAI,CAAC,aAAa;YACrC;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,gBAAgB;IAChB,aAAa,aAAa,EAAU,EAAE,IAAyB,EAAgC;QAC7F,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,aAAa,EAAE,IAAI,EAAE;YAChE,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,iBAAiB,IAAI,CAAC,aAAa;YACrC;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,gBAAgB;IAChB,aAAa,aAAa,EAAU,EAAgC;QAClE,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,aAAa,EAAE,IAAI,EAAE;YAChE,QAAQ;YACR,SAAS;gBACP,iBAAiB,IAAI,CAAC,aAAa;YACrC;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,mBAAmB;IACnB,aAAa,WAA8C;QACzD,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,kBAAkB,CAAC,EAAE;YAChE,QAAQ;YACR,SAAS;gBACP,iBAAiB,IAAI,CAAC,aAAa;YACrC;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,4BAA4B;IAC5B,aAAa,sBACX,SAAiB,EACjB,OAAe,EACiB;QAChC,MAAM,WAAW,MAAM,MACrB,GAAG,aAAa,8BAA8B,EAAE,UAAU,UAAU,EAAE,SAAS,EAC/E;YACE,QAAQ;YACR,SAAS;gBACP,iBAAiB,IAAI,CAAC,aAAa;YACrC;QACF;QAGF,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,iBAAiB;IACjB,aAAa,cAAc,KAAa,EAAkC;QACxE,MAAM,WAAW,MAAM,MACrB,GAAG,aAAa,sBAAsB,EAAE,mBAAmB,QAAQ,EACnE;YACE,QAAQ;YACR,SAAS;gBACP,iBAAiB,IAAI,CAAC,aAAa;YACrC;QACF;QAGF,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,wBAAwB;IACxB,aAAa,eAAwD;QACnE,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,sBAAsB,CAAC,EAAE;YACpE,QAAQ;YACR,SAAS;gBACP,iBAAiB,IAAI,CAAC,aAAa;YACrC;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,OAAO,SAAS,IAAI;IACtB;AACF"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/erpai/projects/MotorTrust-Frontend/lib/vehicles.ts"],"sourcesContent":["import { TokenManager } from './auth';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport interface Vehicle {\r\n  id: number;\r\n  user_id: number;\r\n  vin: string;\r\n  year: number;\r\n  make: string;\r\n  model: string;\r\n  trim?: string;\r\n  color?: string;\r\n  license_plate?: string;\r\n  mileage: number;\r\n  purchase_date?: string;\r\n  is_primary: boolean;\r\n  repair_count?: number;\r\n  last_service_date?: string;\r\n  total_repair_cost?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface VehicleStats {\r\n  id: number;\r\n  year: number;\r\n  make: string;\r\n  model: string;\r\n  current_mileage: number;\r\n  total_repairs: number;\r\n  total_cost: string;\r\n  avg_repair_cost: string;\r\n  last_service_date?: string;\r\n  first_service_date?: string;\r\n}\r\n\r\nexport interface RepairRecord {\r\n  id: number;\r\n  vehicle_id: number;\r\n  service_date: string;\r\n  service_type: string;\r\n  description: string;\r\n  total_cost: string;\r\n  shop_name?: string;\r\n  shop_rating?: number;\r\n}\r\n\r\nexport interface CreateVehicleRequest {\r\n  vin: string;\r\n  year: number;\r\n  make: string;\r\n  model: string;\r\n  trim?: string;\r\n  color?: string;\r\n  license_plate?: string;\r\n  mileage: number;\r\n  purchase_date?: string;\r\n  is_primary?: boolean;\r\n}\r\n\r\nexport interface UpdateVehicleRequest {\r\n  mileage?: number;\r\n  color?: string;\r\n  license_plate?: string;\r\n  trim?: string;\r\n}\r\n\r\nexport interface ApiResponse<T> {\r\n  success: boolean;\r\n  message: string;\r\n  data?: T;\r\n  count?: number;\r\n}\r\n\r\nexport class VehicleService {\r\n  private static getAuthHeader(): string {\r\n    const token = TokenManager.getToken();\r\n    if (!token) throw new Error('No authentication token found');\r\n    return `Bearer ${token}`;\r\n  }\r\n\r\n  // Get all vehicles\r\n  static async getVehicles(): Promise<ApiResponse<Vehicle[]>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch vehicles');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get primary vehicle\r\n  static async getPrimaryVehicle(): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/primary`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch primary vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get vehicle by ID\r\n  static async getVehicle(id: number): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Create vehicle\r\n  static async createVehicle(data: CreateVehicleRequest): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to create vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Update vehicle\r\n  static async updateVehicle(id: number, data: UpdateVehicleRequest): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to update vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Delete vehicle\r\n  static async deleteVehicle(id: number): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to delete vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Set primary vehicle\r\n  static async setPrimaryVehicle(id: number): Promise<ApiResponse<Vehicle>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}/primary`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to set primary vehicle');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get vehicle repairs\r\n  static async getVehicleRepairs(id: number): Promise<ApiResponse<RepairRecord[]>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}/repairs`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch vehicle repairs');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // Get vehicle statistics\r\n  static async getVehicleStats(id: number): Promise<ApiResponse<VehicleStats>> {\r\n    const response = await fetch(`${API_BASE_URL}/api/vehicles/${id}/stats`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': this.getAuthHeader(),\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.message || 'Failed to fetch vehicle stats');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/erpai/projects/MotorTrust-Frontend/app/dashboard/reports/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { RepairService, Repair, RepairStats, ServiceReminder } from '@/lib/repairs';\r\nimport { VehicleService, Vehicle } from '@/lib/vehicles';\r\nimport Link from 'next/link';\r\n\r\nexport default function ReportsPage() {\r\n  const [stats, setStats] = useState<RepairStats | null>(null);\r\n  const [repairs, setRepairs] = useState<Repair[]>([]);\r\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\r\n  const [reminders, setReminders] = useState<ServiceReminder[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedPeriod, setSelectedPeriod] = useState('year');\r\n  const [dateRange, setDateRange] = useState({ start: '', end: '' });\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterByPeriod();\r\n  }, [selectedPeriod]);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      const [statsRes, repairsRes, vehiclesRes, remindersRes] = await Promise.all([\r\n        RepairService.getStats().catch(() => null),\r\n        RepairService.getRepairs().catch(() => ({ data: [] })),\r\n        VehicleService.getVehicles().catch(() => ({ data: [] })),\r\n        RepairService.getReminders().catch(() => ({ data: [] })),\r\n      ]);\r\n\r\n      if (statsRes?.data) setStats(statsRes.data);\r\n      if (repairsRes?.data) setRepairs(repairsRes.data);\r\n      if (vehiclesRes?.data) setVehicles(vehiclesRes.data);\r\n      if (remindersRes?.data) setReminders(remindersRes.data);\r\n    } catch (err) {\r\n      console.error('Failed to load data:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterByPeriod = async () => {\r\n    const now = new Date();\r\n    let startDate: Date;\r\n\r\n    switch (selectedPeriod) {\r\n      case 'month':\r\n        startDate = new Date(now.getFullYear(), now.getMonth(), 1);\r\n        break;\r\n      case 'quarter':\r\n        const quarter = Math.floor(now.getMonth() / 3);\r\n        startDate = new Date(now.getFullYear(), quarter * 3, 1);\r\n        break;\r\n      case 'year':\r\n        startDate = new Date(now.getFullYear(), 0, 1);\r\n        break;\r\n      default:\r\n        startDate = new Date(2000, 0, 1);\r\n    }\r\n\r\n    const start = startDate.toISOString().split('T')[0];\r\n    const end = now.toISOString().split('T')[0];\r\n\r\n    setDateRange({ start, end });\r\n\r\n    try {\r\n      const response = await RepairService.getRepairsByDateRange(start, end);\r\n      if (response.data) {\r\n        setRepairs(response.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to filter:', err);\r\n    }\r\n  };\r\n\r\n  const periods = [\r\n    { value: 'month', label: 'This Month' },\r\n    { value: 'quarter', label: 'This Quarter' },\r\n    { value: 'year', label: 'This Year' },\r\n    { value: 'all', label: 'All Time' },\r\n  ];\r\n\r\n  // Calculate period stats from filtered repairs\r\n  const periodTotal = repairs.reduce((acc, r) => acc + parseFloat(r.total_cost), 0);\r\n  const periodCount = repairs.length;\r\n  const avgCost = periodCount > 0 ? periodTotal / periodCount : 0;\r\n\r\n  // Get expense by category\r\n  const categoryExpenses = repairs.reduce((acc, repair) => {\r\n    const type = repair.service_type || 'Other';\r\n    acc[type] = (acc[type] || 0) + parseFloat(repair.total_cost);\r\n    return acc;\r\n  }, {} as Record<string, number>);\r\n\r\n  const sortedCategories = Object.entries(categoryExpenses)\r\n    .sort((a, b) => b[1] - a[1])\r\n    .slice(0, 6);\r\n\r\n  // Monthly breakdown\r\n  const monthlyExpenses = repairs.reduce((acc, repair) => {\r\n    const date = new Date(repair.service_date);\r\n    const month = date.toLocaleString('default', { month: 'short', year: 'numeric' });\r\n    acc[month] = (acc[month] || 0) + parseFloat(repair.total_cost);\r\n    return acc;\r\n  }, {} as Record<string, number>);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"text-center\">\r\n          <div className=\"text-4xl mb-4 animate-float\">üìä</div>\r\n          <p className=\"text-gray-400\">Loading reports...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold gradient-text\">Reports & Analytics</h1>\r\n          <p className=\"text-gray-400 mt-1\">Track your vehicle expenses and maintenance history</p>\r\n        </div>\r\n        <div className=\"flex gap-2 flex-wrap\">\r\n          {periods.map((period) => (\r\n            <button\r\n              key={period.value}\r\n              onClick={() => setSelectedPeriod(period.value)}\r\n              className={`px-4 py-2 rounded-lg transition-all ${\r\n                selectedPeriod === period.value\r\n                  ? 'bg-[#2ec8c6] text-black font-semibold'\r\n                  : 'glass hover:bg-white/10'\r\n              }`}\r\n            >\r\n              {period.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <span className=\"text-3xl\">üí∞</span>\r\n            {stats && periodTotal > parseFloat(stats.avg_repair_cost) * periodCount * 0.9 && (\r\n              <span className=\"text-sm px-2 py-1 rounded-full bg-red-500/20 text-red-400\">\r\n                High\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"text-3xl font-bold mb-1\">${periodTotal.toFixed(2)}</div>\r\n          <div className=\"text-gray-400 text-sm\">Total Spent</div>\r\n        </div>\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <span className=\"text-3xl\">üîß</span>\r\n            <span className=\"text-sm px-2 py-1 rounded-full bg-green-500/20 text-green-400\">\r\n              {periodCount}\r\n            </span>\r\n          </div>\r\n          <div className=\"text-3xl font-bold mb-1\">{periodCount}</div>\r\n          <div className=\"text-gray-400 text-sm\">Repairs Done</div>\r\n        </div>\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <span className=\"text-3xl\">üìä</span>\r\n          </div>\r\n          <div className=\"text-3xl font-bold mb-1\">${avgCost.toFixed(2)}</div>\r\n          <div className=\"text-gray-400 text-sm\">Avg. Repair Cost</div>\r\n        </div>\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <span className=\"text-3xl\">üöó</span>\r\n          </div>\r\n          <div className=\"text-3xl font-bold mb-1\">{vehicles.length}</div>\r\n          <div className=\"text-gray-400 text-sm\">Vehicles</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Service Reminders */}\r\n      {reminders.length > 0 && (\r\n        <div className=\"glass-strong rounded-2xl p-6 border border-yellow-500/30\">\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <span className=\"text-2xl\">‚ö†Ô∏è</span>\r\n            <h2 className=\"text-xl font-bold\">Service Reminders</h2>\r\n          </div>\r\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {reminders.map((reminder) => (\r\n              <div key={reminder.vehicle_id} className=\"glass rounded-xl p-4\">\r\n                <div className=\"font-bold mb-1\">\r\n                  {reminder.year} {reminder.make} {reminder.model}\r\n                </div>\r\n                <div className=\"text-sm text-gray-400 space-y-1\">\r\n                  <div>Current: {reminder.current_mileage?.toLocaleString()} mi</div>\r\n                  {reminder.last_service_date && (\r\n                    <div>Last service: {new Date(reminder.last_service_date).toLocaleDateString()}</div>\r\n                  )}\r\n                  {reminder.last_service_mileage && (\r\n                    <div>Miles since service: {(reminder.current_mileage - reminder.last_service_mileage).toLocaleString()}</div>\r\n                  )}\r\n                </div>\r\n                <Link\r\n                  href={`/dashboard/repairs?add=true&vehicle=${reminder.vehicle_id}`}\r\n                  className=\"mt-3 block text-center py-2 bg-[#2ec8c6] hover:bg-[#26a5a3] text-black font-semibold rounded-lg transition-colors\"\r\n                >\r\n                  Schedule Service\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Charts */}\r\n      <div className=\"grid lg:grid-cols-2 gap-6\">\r\n        {/* Monthly Expenses */}\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <h3 className=\"text-lg font-bold mb-4\">Monthly Expenses</h3>\r\n          {Object.keys(monthlyExpenses).length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {Object.entries(monthlyExpenses)\r\n                .slice(-6)\r\n                .map(([month, amount]) => {\r\n                  const maxAmount = Math.max(...Object.values(monthlyExpenses));\r\n                  const percentage = (amount / maxAmount) * 100;\r\n                  return (\r\n                    <div key={month}>\r\n                      <div className=\"flex justify-between text-sm mb-1\">\r\n                        <span>{month}</span>\r\n                        <span className=\"font-semibold\">${amount.toFixed(2)}</span>\r\n                      </div>\r\n                      <div className=\"h-3 glass rounded-full overflow-hidden\">\r\n                        <div\r\n                          className=\"h-full bg-gradient-to-r from-[#2ec8c6] to-[#1a9a99] rounded-full transition-all duration-500\"\r\n                          style={{ width: `${percentage}%` }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12 text-gray-400\">\r\n              <div className=\"text-4xl mb-2\">üìà</div>\r\n              <p>No expense data yet</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Expense by Category */}\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <h3 className=\"text-lg font-bold mb-4\">Expense by Category</h3>\r\n          {sortedCategories.length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {sortedCategories.map(([category, amount], idx) => {\r\n                const percentage = (amount / periodTotal) * 100;\r\n                const colors = [\r\n                  'bg-[#2ec8c6]',\r\n                  'bg-blue-500',\r\n                  'bg-purple-500',\r\n                  'bg-yellow-500',\r\n                  'bg-green-500',\r\n                  'bg-red-500',\r\n                ];\r\n                return (\r\n                  <div key={category}>\r\n                    <div className=\"flex justify-between text-sm mb-1\">\r\n                      <span>{category}</span>\r\n                      <span className=\"font-semibold\">\r\n                        ${amount.toFixed(2)} ({percentage.toFixed(1)}%)\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"h-3 glass rounded-full overflow-hidden\">\r\n                      <div\r\n                        className={`h-full ${colors[idx % colors.length]} rounded-full transition-all duration-500`}\r\n                        style={{ width: `${percentage}%` }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12 text-gray-400\">\r\n              <div className=\"text-4xl mb-2\">ü•ß</div>\r\n              <p>No category data yet</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* All-Time Stats */}\r\n      {stats && (\r\n        <div className=\"glass-strong rounded-2xl p-6\">\r\n          <h3 className=\"text-lg font-bold mb-4\">All-Time Statistics</h3>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\r\n            <div className=\"glass rounded-xl p-4 text-center\">\r\n              <div className=\"text-2xl font-bold text-[#2ec8c6]\">{stats.total_repairs}</div>\r\n              <div className=\"text-sm text-gray-400\">Total Repairs</div>\r\n            </div>\r\n            <div className=\"glass rounded-xl p-4 text-center\">\r\n              <div className=\"text-2xl font-bold text-[#2ec8c6]\">${stats.total_spent}</div>\r\n              <div className=\"text-sm text-gray-400\">Total Spent</div>\r\n            </div>\r\n            <div className=\"glass rounded-xl p-4 text-center\">\r\n              <div className=\"text-2xl font-bold\">${stats.avg_repair_cost}</div>\r\n              <div className=\"text-sm text-gray-400\">Avg Cost</div>\r\n            </div>\r\n            <div className=\"glass rounded-xl p-4 text-center\">\r\n              <div className=\"text-2xl font-bold\">{stats.vehicles_serviced}</div>\r\n              <div className=\"text-sm text-gray-400\">Vehicles Serviced</div>\r\n            </div>\r\n            <div className=\"glass rounded-xl p-4 text-center\">\r\n              <div className=\"text-2xl font-bold\">{stats.shops_used}</div>\r\n              <div className=\"text-sm text-gray-400\">Shops Used</div>\r\n            </div>\r\n            <div className=\"glass rounded-xl p-4 text-center\">\r\n              <div className=\"text-2xl font-bold\">\r\n                {stats.last_service_date \r\n                  ? new Date(stats.last_service_date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\r\n                  : '‚Äî'}\r\n              </div>\r\n              <div className=\"text-sm text-gray-400\">Last Service</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Recent Expenses */}\r\n      <div className=\"glass-strong rounded-2xl p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h3 className=\"text-lg font-bold\">Recent Expenses</h3>\r\n          <Link href=\"/dashboard/repairs\" className=\"text-[#2ec8c6] hover:underline text-sm\">\r\n            View All ‚Üí\r\n          </Link>\r\n        </div>\r\n        {repairs.length > 0 ? (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"text-left text-gray-400 text-sm\">\r\n                  <th className=\"pb-4 font-medium\">Date</th>\r\n                  <th className=\"pb-4 font-medium\">Vehicle</th>\r\n                  <th className=\"pb-4 font-medium\">Service</th>\r\n                  <th className=\"pb-4 font-medium\">Shop</th>\r\n                  <th className=\"pb-4 font-medium text-right\">Cost</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {repairs.slice(0, 10).map((repair) => (\r\n                  <tr key={repair.id} className=\"border-t border-white/10 hover:bg-white/5\">\r\n                    <td className=\"py-4\">{new Date(repair.service_date).toLocaleDateString()}</td>\r\n                    <td className=\"py-4 text-gray-400\">\r\n                      {repair.year} {repair.make} {repair.model}\r\n                    </td>\r\n                    <td className=\"py-4 font-medium\">{repair.service_type}</td>\r\n                    <td className=\"py-4 text-gray-400\">{repair.shop_name || '‚Äî'}</td>\r\n                    <td className=\"py-4 text-right font-bold text-[#2ec8c6]\">${repair.total_cost}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-gray-400\">\r\n            <div className=\"text-4xl mb-3\">üìã</div>\r\n            <p>No expenses recorded yet</p>\r\n            <Link\r\n              href=\"/dashboard/repairs?add=true\"\r\n              className=\"inline-block mt-4 px-4 py-2 bg-[#2ec8c6] hover:bg-[#26a5a3] text-black font-semibold rounded-lg transition-colors\"\r\n            >\r\n              Add First Repair\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Export */}\r\n      <div className=\"glass-strong rounded-2xl p-6\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n          <div>\r\n            <h3 className=\"text-lg font-bold mb-1\">Export Reports</h3>\r\n            <p className=\"text-gray-400 text-sm\">Download your vehicle history and expense reports</p>\r\n          </div>\r\n          <div className=\"flex gap-3\">\r\n            <button className=\"px-4 py-2 glass rounded-lg hover:bg-white/10 transition-colors flex items-center gap-2\">\r\n              <span>üìÑ</span> PDF\r\n            </button>\r\n            <button className=\"px-4 py-2 glass rounded-lg hover:bg-white/10 transition-colors flex items-center gap-2\">\r\n              <span>üìä</span> Excel\r\n            </button>\r\n            <button className=\"px-4 py-2 glass rounded-lg hover:bg-white/10 transition-colors flex items-center gap-2\">\r\n              <span>üñ®Ô∏è</span> Print\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}